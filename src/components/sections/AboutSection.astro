---
// src/components/sections/AboutSection.astro
import { Image } from 'astro:assets';
import teamImage from '../../assets/images/usdown.webp';
---

<section
  id="about"
  class="relative py-20 md:py-28 overflow-hidden"
  style="
    background: linear-gradient(
      112deg,
      var(--color-fresh-sky) 0%,
      var(--color-deep-navy) 100%
    );
  "
>
  <!-- Background Wave & Bubbles -->
  <div class="organic-wave-container" aria-hidden="true">
    <div class="bubbles">
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
    </div>

    <svg class="wave wave-1" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <defs>
        <linearGradient id="wave-gradient" x1="0.5" y1="0" x2="0.5" y2="1">
          <stop offset="0%" stop-color="var(--color-fresh-sky)" />
          <stop offset="100%" stop-color="var(--color-deep-navy)" />
        </linearGradient>
      </defs>
      <path d="M0,160L48,181.3C96,203,192,245,288,250.7C384,256,480,224,576,197.3C672,171,768,149,864,165.3C960,181,1056,235,1152,240C1248,245,1344,203,1392,181.3L1440,160L1440,320L0,320Z" />
    </svg>

    <svg class="wave wave-2" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path d="M0,224L60,213.3C120,203,240,181,360,186.7C480,192,600,224,720,213.3C840,203,960,149,1080,138.7C1200,128,1320,160,1380,176L1440,192L1440,320L0,320Z" />
    </svg>
  </div>

  <!-- Foreground Content -->
  <div class="container relative z-10 mx-auto px-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <!-- IMAGE COLUMN -->
      <div class="flex flex-col items-center md:items-start">
        <div class="w-full max-w-md relative">
          <Image 
            src={teamImage}
            alt="Trent and Pandora from One N Done Bond Clean, a local family team."
            class="rounded-2xl shadow-2xl aspect-[4/3] object-cover w-full"
            loading="lazy"
            width="600"
            formats={['avif', 'webp']}
            decoding="async"
          />
          <div class="flex items-center mt-6 gap-3 bg-white/80 rounded-xl px-4 py-3 shadow">
            <span class="text-2xl">üêæ</span>
            <span class="text-blue-800 font-semibold">Pandora: Quality Control Expert</span>
          </div>
        </div>
      </div>
      <!-- TEXT COLUMN -->
      <div class="flex flex-col gap-8 items-center md:items-start text-center md:text-left">
        <div>
          <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-4 drop-shadow">Meet Trent & Pandora</h2>
          <p class="text-lg text-white/90 drop-shadow-sm">
            "Hi, we're the team behind One N Done Bond Clean! I'm Trent, and my four-legged boss is Pandora.
            As a local, family-owned business from
            <span class="suburb-placeholder font-semibold text-white underline underline-offset-2 decoration-fresh-sky">Redbank Plains</span>,
            we pour our hearts into every job. We‚Äôre not about rushing through a checklist; we‚Äôre about providing an honest, reliable service that makes your life easier."
          </p>
        </div>

        <!-- ICON CIRCLE BADGE CARD -->
        <div class="relative bg-white p-6 rounded-2xl shadow-lg border border-sky-100 mt-6 w-full max-w-md mx-auto">
          <div class="absolute -top-6 left-1/2 -translate-x-1/2 bg-[var(--color-fresh-sky)] text-white w-14 h-14 flex items-center justify-center rounded-full shadow-lg border-4 border-white text-2xl">
            üèÖ
          </div>
          <h4 class="font-bold text-lg text-[var(--color-deep-navy)] mt-7 mb-1 text-center">Our Promise:</h4>
          <p class="text-gray-700 text-center">
            "To treat your home with respect, to communicate clearly, and to guarantee our work, every single time."
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  :root {
    --color-fresh-sky: #0ea5e9;
    --color-deep-navy: #0c2f5a;
    --bubble-color: rgba(255, 255, 255, 0.2);
  }

  .organic-wave-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
    transform: scaleY(-1);
  }

  .wave {
    position: absolute;
    left: 0;
    bottom: 0;
    width: 200%;
    height: clamp(100px, 20vw, 220px);
    fill: url(#wave-gradient);
    mix-blend-mode: screen;
    will-change: transform;
  }

  .wave-1 {
    animation: drift 18s linear infinite;
    opacity: 0.7;
  }

  .wave-2 {
    animation: drift 22s linear infinite reverse;
    opacity: 0.5;
  }

  @keyframes drift {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .bubbles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    mix-blend-mode: screen;
  }

  .bubble {
    position: absolute;
    bottom: -50px;
    background-color: var(--bubble-color);
    border-radius: 50%;
    animation: rise 20s infinite ease-in-out;
    will-change: transform, opacity;
  }

  @keyframes rise {
    0% { transform: translateY(0) scale(1); opacity: 0.9; }
    60% { transform: translateY(-50vh) scale(1.1); opacity: 0.6; }
    100% { transform: translateY(-100vh) scale(0.3); opacity: 0; }
  }

  .bubble:nth-child(1) { left: 10%; width: 20px; height: 20px; animation-duration: 15s; animation-delay: 0s; }
  .bubble:nth-child(2) { left: 20%; width: 10px; height: 10px; animation-duration: 25s; animation-delay: 2s; }
  .bubble:nth-child(3) { left: 35%; width: 25px; height: 25px; animation-duration: 18s; animation-delay: 5s; }
  .bubble:nth-child(4) { left: 50%; width: 15px; height: 15px; animation-duration: 22s; animation-delay: 1s; }
  .bubble:nth-child(5) { left: 65%; width: 8px; height: 8px; animation-duration: 30s; animation-delay: 7s; }
  .bubble:nth-child(6) { left: 80%; width: 18px; height: 18px; animation-duration: 16s; animation-delay: 3s; }
  .bubble:nth-child(7) { left: 90%; width: 12px; height: 12px; animation-duration: 28s; animation-delay: 6s; }
  .bubble:nth-child(8) { left: 5%; width: 22px; height: 22px; animation-duration: 19s; animation-delay: 4s; }
  .bubble:nth-child(9) { left: 95%; width: 14px; height: 14px; animation-duration: 24s; animation-delay: 8s; }
  .bubble:nth-child(10) { left: 25%; width: 16px; height: 16px; animation-duration: 20s; animation-delay: 0s; }
</style>
